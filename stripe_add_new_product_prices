import stripe

# ğŸ” Set your Stripe secret key
stripe.api_key = "sk_live_######"  # Replace with your real key

# ğŸ›’ Product and common config
product_id = "prod_ABC123"
amount_cents = 3800  # $38.00
currency = "usd"
nickname_base = "Price description"
tax_code = "PM020760"
tax_behavior = "exclusive"
metadata = {"TaxCode": tax_code}

# âœ… 1. One-time purchase (no recurring)
one_time = stripe.Price.create(
    unit_amount=amount_cents,
    currency=currency,
    product=product_id,
    nickname=f"{nickname_base} - One-time",
    metadata=metadata,
    tax_behavior=tax_behavior
)

# âœ… 2. Monthly subscription
monthly = stripe.Price.create(
    unit_amount=amount_cents,
    currency=currency,
    product=product_id,
    nickname=f"{nickname_base} - Monthly",
    metadata=metadata,
    tax_behavior=tax_behavior,
    recurring={"interval": "month"}
)

# âœ… 3. Every 2 months
bimonthly = stripe.Price.create(
    unit_amount=amount_cents,
    currency=currency,
    product=product_id,
    nickname=f"{nickname_base} - Every 2 months",
    metadata=metadata,
    tax_behavior=tax_behavior,
    recurring={"interval": "month", "interval_count": 2}
)

# âœ… 4. Every 3 months
quarterly = stripe.Price.create(
    unit_amount=amount_cents,
    currency=currency,
    product=product_id,
    nickname=f"{nickname_base} - Every 3 months",
    metadata=metadata,
    tax_behavior=tax_behavior,
    recurring={"interval": "month", "interval_count": 3}
)

# â­ Set monthly subscription as default price
stripe.Product.modify(
    product_id,
    default_price=monthly.id
)


# ğŸ–¨ï¸ Print confirmation
print("Prices created:")
print(f"âœ… One-time:      {one_time.id}")
print(f"âœ… Monthly:       {monthly.id}")
print(f"âœ… Every 2 months:{bimonthly.id}")
print(f"âœ… Every 3 months:{quarterly.id}")
print(f"âœ… Set {monthly.id} as the default price for product {product_id}")
